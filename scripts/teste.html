<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filtros de Produto Compactos</title>
    <style>
        /* Estilos gerais do corpo e layout principal */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e5e7eb;
            color: #333;
            padding: 1rem; /* p-4 */
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        .container {
            display: flex;
            flex-direction: column;
            gap: 0.75rem; /* gap-3 */
            padding: 0.75rem; /* p-3 */
            background-color: #ffffff;
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-xl */
            width: 100%;
            max-width: 60rem; /* max-w-5xl */
        }
        
        /* Estilos responsivos para telas maiores (a partir de 768px) */
        @media (min-width: 768px) {
            .container {
                flex-direction: row;
                gap: 1rem; /* md:gap-4 */
            }
            body {
                padding: 2rem; /* md:p-8 */
            }
        }
        
        /* Estilos para cada coluna de filtro */
        .filter-column {
            flex: 1;
            min-width: 120px;
            position: relative;
        }
        
        /* Estilos do cabeçalho de cada filtro (título e ícone) */
        .filter-header {
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-bottom: 0.25rem; /* pb-1 */
            margin-bottom: 0.25rem; /* mb-1 */
            border-bottom: 1px solid #3b82f6; /* border-b border-blue-500 */
        }
        
        .filter-header h3 {
            font-weight: bold;
            font-size: 0.875rem; /* text-sm */
            color: #1f2937; /* text-gray-800 */
        }
        
        .chevron {
            font-size: 1rem; /* text-base */
            color: #6b7280; /* text-gray-500 */
            transition: transform 0.2s ease-out;
        }
        
        .chevron.rotate {
            transform: rotate(180deg);
        }
        
        /* Estilos para o menu flutuante (dropdown) */
        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            z-index: 10;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-5px);
            transition: opacity 0.2s ease-out, transform 0.2s ease-out, visibility 0.2s;
            background-color: #ffffff;
            border-radius: 0.375rem; /* rounded-md */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-lg */
            padding: 0.5rem; /* p-2 */
            margin-top: 0.25rem; /* mt-1 */
        }
        
        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        /* Estilos para as opções de checkbox dentro do menu */
        .options-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem; /* space-y-2 */
            font-size: 0.875rem; /* text-sm */
        }
        
        .option-item {
            display: flex;
            align-items: center;
            cursor: pointer;
            position: relative;
        }
        
        .option-item label {
            margin-left: 0.375rem; /* ml-1.5 */
            color: #4b5563; /* text-gray-700 */
            transition: color 0.2s duration-200;
        }

        .option-item:hover label {
            color: #3b82f6; /* group-hover:text-blue-600 */
        }

        /* Estilos para o checkbox real (oculto) e a sua estilização */
        .option-item input[type="checkbox"] {
            -webkit-appearance: none;
            appearance: none;
            width: 0.75rem; /* w-3 */
            height: 0.75rem; /* h-3 */
            border: 1px solid #d1d5db; /* border-gray-300 */
            background-color: #f3f4f6; /* bg-gray-100 */
            border-radius: 0.125rem;
            transition: all 0.2s ease-in-out;
        }

        .option-item input[type="checkbox"]:checked {
            background-color: #3b82f6; /* text-blue-600 */
            border-color: #3b82f6;
        }
        
        .option-item input[type="checkbox"]:checked::after {
            content: '';
            display: block;
            width: 0.3rem;
            height: 0.6rem;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
            margin-left: 1px;
            margin-top: -3px;
        }

        /* Estilos para as caixas de cores */
        .color-box {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 1px solid rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease-in-out;
        }
        
        /* Estilos para a animação das caixas de cores ao serem clicadas */
        .option-item input[type="checkbox"]:checked + label .color-box {
            transform: scale(1.2);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
        }

        /* Estilos para o botão Limpar Filtros */
        .clear-button-container {
            margin-top: 1rem; /* mt-4 */
            display: flex;
            justify-content: center;
        }

        #clear-filters {
            padding: 0.25rem 0.75rem; /* px-3 py-1 */
            background-color: #3b82f6; /* bg-blue-600 */
            color: white;
            border-radius: 9999px; /* rounded-full */
            font-size: 0.875rem; /* text-sm */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-lg */
            transition: all 0.3s ease-in-out;
            border: none;
            cursor: pointer;
        }

        #clear-filters:hover {
            background-color: #2563eb; /* hover:bg-blue-700 */
            transform: scale(1.05); /* hover:scale-105 */
        }
    </style>
</head>
<body class="p-4 flex items-start justify-center">

    <div class="container">

        <!-- Coluna para 'Marca' -->
        <div class="filter-column">
            <div class="filter-header" data-toggle-id="brand-content">
                <h3>Marca</h3>
                <span class="chevron">&#9660;</span>
            </div>
            <div id="brand-content" class="dropdown-menu">
                <div class="options-list">
                    <div class="option-item">
                        <input type="checkbox" id="brand-apple" name="brand" value="Apple">
                        <label for="brand-apple">Apple</label>
                    </div>
                    <div class="option-item">
                        <input type="checkbox" id="brand-sony" name="brand" value="Sony">
                        <label for="brand-sony">Sony</label>
                    </div>
                    <div class="option-item">
                        <input type="checkbox" id="brand-jbl" name="brand" value="JBL">
                        <label for="brand-jbl">JBL</label>
                    </div>
                    <div class="option-item">
                        <input type="checkbox" id="brand-samsung" name="brand" value="Samsung">
                        <label for="brand-samsung">Samsung</label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Coluna para 'Conectividade' -->
        <div class="filter-column">
            <div class="filter-header" data-toggle-id="connectivity-content">
                <h3>Conectividade</h3>
                <span class="chevron">&#9660;</span>
            </div>
            <div id="connectivity-content" class="dropdown-menu">
                <div class="options-list">
                    <div class="option-item">
                        <input type="checkbox" id="conn-bluetooth" name="connectivity" value="Bluetooth">
                        <label for="conn-bluetooth">Bluetooth</label>
                    </div>
                    <div class="option-item">
                        <input type="checkbox" id="conn-cabo" name="connectivity" value="Cabo">
                        <label for="conn-cabo">Cabo</label>
                    </div>
                    <div class="option-item">
                        <input type="checkbox" id="conn-wifi" name="connectivity" value="Wi-Fi">
                        <label for="conn-wifi">Wi-Fi</label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Coluna para 'Tipo de Fone' -->
        <div class="filter-column">
            <div class="filter-header" data-toggle-id="type-content">
                <h3>Tipo de Fone</h3>
                <span class="chevron">&#9660;</span>
            </div>
            <div id="type-content" class="dropdown-menu">
                <div class="options-list">
                    <div class="option-item">
                        <input type="checkbox" id="type-over-ear" name="type" value="Over-ear">
                        <label for="type-over-ear">Over-ear</label>
                    </div>
                    <div class="option-item">
                        <input type="checkbox" id="type-on-ear" name="type" value="On-ear">
                        <label for="type-on-ear">On-ear</label>
                    </div>
                    <div class="option-item">
                        <input type="checkbox" id="type-in-ear" name="type" value="In-ear">
                        <label for="type-in-ear">In-ear</label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Coluna para 'Cor' -->
        <div class="filter-column">
            <div class="filter-header" data-toggle-id="color-content">
                <h3>Cor</h3>
                <span class="chevron">&#9660;</span>
            </div>
            <div id="color-content" class="dropdown-menu">
                <div class="options-list">
                    <div class="option-item">
                        <input type="checkbox" id="color-preto" name="color" value="Preto" class="hidden">
                        <label for="color-preto">
                            <div class="color-box" style="background-color: black;"></div>
                            <span>Preto</span>
                        </label>
                    </div>
                    <div class="option-item">
                        <input type="checkbox" id="color-branco" name="color" value="Branco" class="hidden">
                        <label for="color-branco">
                            <div class="color-box" style="background-color: white;"></div>
                            <span>Branco</span>
                        </label>
                    </div>
                    <div class="option-item">
                        <input type="checkbox" id="color-vermelho" name="color" value="Vermelho" class="hidden">
                        <label for="color-vermelho">
                            <div class="color-box" style="background-color: #ef4444;"></div>
                            <span>Vermelho</span>
                        </label>
                    </div>
                    <div class="option-item">
                        <input type="checkbox" id="color-azul" name="color" value="Azul" class="hidden">
                        <label for="color-azul">
                            <div class="color-box" style="background-color: #3b82f6;"></div>
                            <span>Azul</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Botão de Limpar Filtros -->
    <div class="clear-button-container">
        <button id="clear-filters">
            Limpar Filtros
        </button>
    </div>

    <script>
        // Adiciona funcionalidade de expandir/contrair aos cabeçalhos
        document.querySelectorAll('[data-toggle-id]').forEach(header => {
            header.addEventListener('click', () => {
                const contentId = header.getAttribute('data-toggle-id');
                const content = document.getElementById(contentId);
                const chevron = header.querySelector('.chevron');

                // Fecha todos os outros menus antes de abrir o atual
                document.querySelectorAll('.dropdown-menu.open').forEach(menu => {
                    if (menu.id !== contentId) {
                        menu.classList.remove('open');
                        const otherChevron = document.querySelector(`[data-toggle-id="${menu.id}"] .chevron`);
                        if (otherChevron) otherChevron.classList.remove('rotate');
                    }
                });

                // Alterna o estado do menu atual
                content.classList.toggle('open');
                chevron.classList.toggle('rotate');
            });
        });

        // Função para atualizar os filtros selecionados
        function updateSelectedFilters() {
            const selectedFilters = {};
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const groupName = checkbox.name;
                    const value = checkbox.value;
                    if (!selectedFilters[groupName]) {
                        selectedFilters[groupName] = [];
                    }
                    selectedFilters[groupName].push(value);
                }
            });
            console.log("Filtros Selecionados:", selectedFilters);
        }

        // Adiciona um ouvinte de evento para cada checkbox
        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', updateSelectedFilters);
        });

        // Adiciona um ouvinte de evento para o botão de limpar filtros
        document.getElementById('clear-filters').addEventListener('click', () => {
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
            });
            updateSelectedFilters();
        });

        // Chama a função de atualização quando a página carrega
        window.addEventListener('load', updateSelectedFilters);
    </script>
</body>
</html>
